{"version":3,"sources":["Page.tsx"],"names":[],"mappings":"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","file":"Page.js","sourcesContent":["import React from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport { createRef, MutableRefObject } from 'react';\r\nimport Renderer from \"../webgpu/render\";\r\nimport colormap from './rainbow.png';\r\nimport colormap2 from './rainbow2.png';\r\nimport { Form } from 'react-bootstrap';\r\nimport Select from 'react-select';\r\nfunction importAll(r) {\r\n    let images = {};\r\n    r.keys().map((item, index) => { images[item.replace('./', '').replace('.png', '')] = r(item); });\r\n    return images;\r\n}\r\n  \r\nconst colormaps = importAll(require.context('../colormaps', false, /\\.(png|jpe?g|svg)$/));\r\nconst colormap_list = ['magma', 'inferno', 'plasma', 'viridis', 'cividis', 'twilight', 'twilight_shifted', 'turbo', 'Blues', 'BrBG', 'BuGn', 'BuPu', 'CMRmap', 'GnBu', 'Greens', 'Greys', 'OrRd', 'Oranges', 'PRGn', 'PiYG', 'PuBu', 'PuBuGn', 'PuOr', 'PuRd', 'Purples', 'RdBu', 'RdGy', 'RdPu', 'RdYlBu', 'RdYlGn', 'Reds', 'Spectral', 'Wistia', 'YlGn', 'YlGnBu', 'YlOrBr', 'YlOrRd', 'afmhot', 'autumn', 'binary', 'bone', 'brg', 'bwr', 'cool', 'coolwarm', 'copper', 'cubehelix', 'flag', 'gist_earth', 'gist_gray', 'gist_heat', 'gist_ncar', 'gist_rainbow', 'gist_stern', 'gist_yarg', 'gnuplot', 'gnuplot2', 'gray', 'hot', 'hsv', 'jet', 'nipy_spectral', 'ocean', 'pink', 'prism', 'rainbow', 'seismic', 'spring', 'summer', 'terrain', 'winter', 'Accent', 'Dark2', 'Paired', 'Pastel1', 'Pastel2', 'Set1', 'Set2', 'Set3', 'tab10', 'tab20', 'tab20b', 'tab20c', 'magma_r', 'inferno_r', 'plasma_r', 'viridis_r', 'cividis_r', 'twilight_r', 'twilight_shifted_r', 'turbo_r', 'Blues_r', 'BrBG_r', 'BuGn_r', 'BuPu_r', 'CMRmap_r', 'GnBu_r', 'Greens_r', 'Greys_r', 'OrRd_r', 'Oranges_r', 'PRGn_r', 'PiYG_r', 'PuBu_r', 'PuBuGn_r', 'PuOr_r', 'PuRd_r', 'Purples_r', 'RdBu_r', 'RdGy_r', 'RdPu_r', 'RdYlBu_r', 'RdYlGn_r', 'Reds_r', 'Spectral_r', 'Wistia_r', 'YlGn_r', 'YlGnBu_r', 'YlOrBr_r', 'YlOrRd_r', 'afmhot_r', 'autumn_r', 'binary_r', 'bone_r', 'brg_r', 'bwr_r', 'cool_r', 'coolwarm_r', 'copper_r', 'cubehelix_r', 'flag_r', 'gist_earth_r', 'gist_gray_r', 'gist_heat_r', 'gist_ncar_r', 'gist_rainbow_r', 'gist_stern_r', 'gist_yarg_r', 'gnuplot_r', 'gnuplot2_r', 'gray_r', 'hot_r', 'hsv_r', 'jet_r', 'nipy_spectral_r', 'ocean_r', 'pink_r', 'prism_r', 'rainbow_r', 'seismic_r', 'spring_r', 'summer_r', 'terrain_r', 'winter_r', 'Accent_r', 'Dark2_r', 'Paired_r', 'Pastel1_r', 'Pastel2_r', 'Set1_r', 'Set2_r', 'Set3_r', 'tab10_r', 'tab20_r', 'tab20b_r', 'tab20c_r'];\r\nconsole.log(colormaps['magma'].default);\r\nconsole.log(colormap);\r\n\r\ntype PageState = {\r\n    widthFactor: number,\r\n    canvasRef: MutableRefObject<HTMLCanvasElement | null>,\r\n    outCanvasRef: MutableRefObject<HTMLCanvasElement | null>,\r\n    colorCanvasRef: MutableRefObject<HTMLCanvasElement | null>,\r\n    fpsRef: MutableRefObject<HTMLLabelElement | null>,\r\n    iterRef: MutableRefObject<HTMLLabelElement | null>,\r\n    colorValley : number,\r\n    colorHill : number,\r\n    colorMountain : number,\r\n    renderer: Renderer | null,\r\n}\r\nclass Page extends React.Component<{}, PageState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            widthFactor: 1000, \r\n            canvasRef: createRef<HTMLCanvasElement | null>(), \r\n            outCanvasRef: createRef<HTMLCanvasElement | null>(), \r\n            colorCanvasRef: createRef<HTMLCanvasElement | null>(), \r\n            fpsRef: createRef<HTMLLabelElement | null>(),\r\n            iterRef: createRef<HTMLLabelElement | null>(),\r\n            colorValley: 45,\r\n            colorHill: 90,\r\n            colorMountain: 135,\r\n            renderer: null\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const adapter = (await navigator.gpu.requestAdapter({\r\n          powerPreference: \"high-performance\",\r\n        }))!;\r\n\r\n        console.log(adapter);\r\n        const device = await adapter.requestDevice({\r\n            requiredLimits: {\r\n                \"maxStorageBufferBindingSize\": adapter.limits.maxStorageBufferBindingSize\r\n            }\r\n        }); \r\n        var colormapImage = new Image();\r\n        colormapImage.src = colormap;\r\n        await colormapImage.decode();\r\n        const imageBitmap = await createImageBitmap(colormapImage);\r\n        this.setState({renderer: new Renderer(\r\n            adapter, device, this.state.canvasRef, \r\n            imageBitmap, colormapImage, this.state.outCanvasRef, this.state.fpsRef, this.state.iterRef)\r\n        });\r\n    }\r\n\r\n    setNodeEdgeData(nodeData : Array<number>, edgeData : Array<number>) {\r\n        this.state.renderer!.setNodeEdgeData(nodeData, edgeData);\r\n    }\r\n\r\n    setWidthFactor(widthFactor : number) {\r\n        this.state.renderer!.setWidthFactor(widthFactor);\r\n    }\r\n\r\n    setPeakValue(value : number) {\r\n        this.state.renderer!.setPeakValue(value);\r\n    }\r\n\r\n    setValleyValue(value : number) {\r\n        this.state.renderer!.setValleyValue(value);\r\n    }\r\n\r\n    setIdealLength(value : number) {\r\n        this.state.renderer!.setIdealLength(value);\r\n    }\r\n\r\n    setCoolingFactor(value : number) {\r\n        this.state.renderer!.setCoolingFactor(value);\r\n    }\r\n\r\n    setGlobalRange() {\r\n        this.state.renderer!.setGlobalRange();\r\n    }\r\n\r\n    setColorValley(value : number) {\r\n        this.setState({colorValley: value});\r\n        this.updateColormap();\r\n    }\r\n\r\n    setColorHill(value : number) {\r\n        this.setState({colorHill: value});\r\n        this.updateColormap();\r\n    }\r\n\r\n    setColorMountain(value : number) {\r\n        this.setState({colorMountain: value});\r\n        this.updateColormap();\r\n    }\r\n\r\n    toggleNodeLayer() {\r\n        this.state.renderer!.toggleNodeLayer();\r\n    }\r\n\r\n    toggleTerrainLayer() {\r\n        this.state.renderer!.toggleTerrainLayer();\r\n    }\r\n\r\n    toggleEdgeLayer() {\r\n        this.state.renderer!.toggleEdgeLayer();\r\n    }\r\n\r\n    async updateColormap() {\r\n        var colormapImage = new Image();\r\n        colormapImage.src = colormap2;\r\n        await colormapImage.decode();\r\n        var colorCanvas = this.state.colorCanvasRef.current!;\r\n        var context = colorCanvas.getContext('2d')!;\r\n        context.drawImage(colormapImage, 0, 0);\r\n        let data = context.getImageData(0, 0, 180, 1);\r\n        for (var i = 0; i < this.state.colorValley; i++) {\r\n            data.data[i * 4] = 0;\r\n            data.data[i * 4 + 1] = 0 + (255/this.state.colorValley) * i;\r\n            data.data[i * 4 + 2] = 255;\r\n            data.data[i * 4 + 3] = 255;\r\n        }\r\n        for (var i = this.state.colorValley; i < this.state.colorHill; i++) {\r\n            data.data[i * 4] = 0;\r\n            data.data[i * 4 + 1] = 255;\r\n            data.data[i * 4 + 2] = 255 - (255/(this.state.colorHill-this.state.colorValley)) * (i - this.state.colorValley);\r\n            data.data[i * 4 + 3] = 255;\r\n        }\r\n        for (var i = this.state.colorHill; i < this.state.colorMountain; i++) {\r\n            data.data[i * 4] = 0 + (255/(this.state.colorMountain-this.state.colorHill)) * (i-this.state.colorHill);\r\n            data.data[i * 4 + 1] = 255;\r\n            data.data[i * 4 + 2] = 0;\r\n            data.data[i * 4 + 3] = 255;\r\n        }\r\n        for (var i = this.state.colorMountain; i < 180; i++) {\r\n            data.data[i * 4] = 255;\r\n            data.data[i * 4 + 1] = 255 - (255/(180-this.state.colorMountain)) * (i-this.state.colorMountain);\r\n            data.data[i * 4 + 2] = 0;\r\n            data.data[i * 4 + 3] = 255;\r\n        }\r\n        context.putImageData(data, 0, 0);\r\n        let url = colorCanvas.toDataURL();\r\n        colormapImage.src = url;\r\n        await colormapImage.decode();\r\n        const imageBitmap = await createImageBitmap(colormapImage);\r\n        this.state.renderer!.setColormap(imageBitmap, colormapImage);\r\n    }\r\n\r\n    async changeColormap(colormap) {\r\n        var colormapImage = new Image();\r\n        colormapImage.src = colormaps[colormap].default;\r\n        await colormapImage.decode();\r\n        const imageBitmap = await createImageBitmap(colormapImage);   \r\n        this.state.renderer!.setColormap(imageBitmap, colormapImage);\r\n    }\r\n\r\n    runForceDirected() {\r\n        this.state.renderer!.runForceDirected();\r\n    }\r\n\r\n    onSave() {\r\n        this.state.renderer!.onSave();\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <div className=\"main_wrapper\">\r\n          <Sidebar\r\n            setValleyValue={this.setValleyValue.bind(this)}\r\n            setPeakValue={this.setPeakValue.bind(this)}\r\n            setWidthFactor={this.setWidthFactor.bind(this)}\r\n            setNodeEdgeData={this.setNodeEdgeData.bind(this)}\r\n            setGlobalRange={this.setGlobalRange.bind(this)}\r\n            setIdealLength={this.setIdealLength.bind(this)}\r\n            setCoolingFactor={this.setCoolingFactor.bind(this)}\r\n            toggleNodeLayer={this.toggleNodeLayer.bind(this)}\r\n            toggleTerrainLayer={this.toggleTerrainLayer.bind(this)}\r\n            toggleEdgeLayer={this.toggleEdgeLayer.bind(this)}\r\n            runForceDirected={this.runForceDirected.bind(this)}\r\n            setColorHill={this.setColorHill.bind(this)}\r\n            setColorValley={this.setColorValley.bind(this)}\r\n            setColorMountain={this.setColorMountain.bind(this)}\r\n            onSave={this.onSave.bind(this)}\r\n          />\r\n          <div className=\"canvasContainer\">\r\n            <Select\r\n              className=\"m-2\"\r\n              placeholder=\"Choose colormap...\"\r\n              onChange={(e) => this.changeColormap(e!.value)}\r\n              options={colormap_list.map((cm) => {\r\n                return { label: cm, value: cm };\r\n              })}\r\n            ></Select>\r\n            <Form.Label className={\"out\"} ref={this.state.fpsRef}>\r\n              FPS: n/a\r\n            </Form.Label>\r\n            <br />\r\n            <Form.Label className={\"out\"} ref={this.state.iterRef}></Form.Label>\r\n            <div id=\"node_count\"></div>\r\n            <div id=\"graphDiv\"></div>\r\n            <canvas\r\n              ref={this.state.canvasRef}\r\n              width={800}\r\n              height={800}\r\n            ></canvas>\r\n\r\n            <canvas\r\n              hidden={true}\r\n              ref={this.state.outCanvasRef}\r\n              width={800}\r\n              height={800}\r\n            ></canvas>\r\n            <canvas\r\n              hidden={true}\r\n              ref={this.state.colorCanvasRef}\r\n              width={180}\r\n              height={1}\r\n            ></canvas>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default Page;"]}