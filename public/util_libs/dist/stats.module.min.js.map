{"version":3,"sources":["stats.module.js"],"names":["Stats","mode","container","document","createElement","panel","appendChild","dom","children","i","length","style","display","id","cssText","addEventListener","showPanel","fpsHistory","performance","Date","now","prevTime","beginTime","frames","fpsPanel","addPanel","Panel","msPanel","self","memory","memPanel","getFPSHistory","REVISION","begin","end","push","time","update","fps","domElement","usedJSHeapSize","Infinity","HEIGHT","GRAPH_X","GRAPH_Y","this","canvas","context","fillStyle","name","fg","bg","fillRect","fillText","GRAPH_WIDTH","globalAlpha","PR","TEXT_X","min","Math","max","drawImage","getContext","WIDTH","TEXT_Y","GRAPH_HEIGHT","value","maxValue","round"],"mappings":"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","file":"stats.module.min.js","sourcesContent":["/**\r\n * @author mrdoob / http://mrdoob.com/\r\n */\r\n\r\nvar Stats = function () {\r\n  var mode = 0;\r\n\r\n  var container = document.createElement(\"div\");\r\n  container.style.cssText =\r\n    \"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";\r\n  container.addEventListener(\r\n    \"click\",\r\n    function (event) {\r\n      event.preventDefault();\r\n      showPanel(++mode % container.children.length);\r\n    },\r\n    false\r\n  );\r\n\r\n  //\r\n\r\n  function addPanel(panel) {\r\n    container.appendChild(panel.dom);\r\n    return panel;\r\n  }\r\n\r\n  function showPanel(id) {\r\n    for (var i = 0; i < container.children.length; i++) {\r\n      container.children[i].style.display = i === id ? \"block\" : \"none\";\r\n    }\r\n\r\n    mode = id;\r\n  }\r\n\r\n  //\r\n\r\n  var beginTime = (performance || Date).now(),\r\n    prevTime = beginTime,\r\n    frames = 0,\r\n    fpsHistory = [];\r\n\r\n  var fpsPanel = addPanel(new Stats.Panel(\"FPS\", \"#0ff\", \"#002\"));\r\n  var msPanel = addPanel(new Stats.Panel(\"MS\", \"#0f0\", \"#020\"));\r\n\r\n  if (self.performance && self.performance.memory) {\r\n    var memPanel = addPanel(new Stats.Panel(\"MB\", \"#f08\", \"#201\"));\r\n  }\r\n\r\n  showPanel(0);\r\n\r\n  return {\r\n    REVISION: 16,\r\n\r\n    dom: container,\r\n\r\n    addPanel: addPanel,\r\n    showPanel: showPanel,\r\n\r\n    getFPSHistory: function () {\r\n      return fpsHistory;\r\n    },\r\n\r\n    begin: function () {\r\n      beginTime = (performance || Date).now();\r\n    },\r\n\r\n    end: function () {\r\n      frames++;\r\n\r\n      var time = (performance || Date).now();\r\n\r\n      msPanel.update(time - beginTime, 200);\r\n\r\n      if (time >= prevTime + 1000) {\r\n        const fps = (frames * 1000) / (time - prevTime);\r\n        fpsHistory.push(fps);\r\n\r\n        fpsPanel.update(fps, 100);\r\n\r\n        prevTime = time;\r\n        frames = 0;\r\n\r\n        if (memPanel) {\r\n          var memory = performance.memory;\r\n          memPanel.update(\r\n            memory.usedJSHeapSize / 1048576,\r\n            memory.jsHeapSizeLimit / 1048576\r\n          );\r\n        }\r\n      }\r\n\r\n      return time;\r\n    },\r\n\r\n    update: function () {\r\n      beginTime = this.end();\r\n    },\r\n\r\n    // Backwards Compatibility\r\n\r\n    domElement: container,\r\n    setMode: showPanel,\r\n  };\r\n};\r\n\r\nStats.Panel = function (name, fg, bg) {\r\n  var min = Infinity,\r\n    max = 0,\r\n    round = Math.round;\r\n  var PR = round(window.devicePixelRatio || 1);\r\n\r\n  var WIDTH = 80 * PR,\r\n    HEIGHT = 48 * PR,\r\n    TEXT_X = 3 * PR,\r\n    TEXT_Y = 2 * PR,\r\n    GRAPH_X = 3 * PR,\r\n    GRAPH_Y = 15 * PR,\r\n    GRAPH_WIDTH = 74 * PR,\r\n    GRAPH_HEIGHT = 30 * PR;\r\n\r\n  var canvas = document.createElement(\"canvas\");\r\n  canvas.width = WIDTH;\r\n  canvas.height = HEIGHT;\r\n  canvas.style.cssText = \"width:80px;height:48px\";\r\n\r\n  var context = canvas.getContext(\"2d\");\r\n  context.font = \"bold \" + 9 * PR + \"px Helvetica,Arial,sans-serif\";\r\n  context.textBaseline = \"top\";\r\n\r\n  context.fillStyle = bg;\r\n  context.fillRect(0, 0, WIDTH, HEIGHT);\r\n\r\n  context.fillStyle = fg;\r\n  context.fillText(name, TEXT_X, TEXT_Y);\r\n  context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\r\n\r\n  context.fillStyle = bg;\r\n  context.globalAlpha = 0.9;\r\n  context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\r\n\r\n  return {\r\n    dom: canvas,\r\n\r\n    update: function (value, maxValue) {\r\n      min = Math.min(min, value);\r\n      max = Math.max(max, value);\r\n\r\n      context.fillStyle = bg;\r\n      context.globalAlpha = 1;\r\n      context.fillRect(0, 0, WIDTH, GRAPH_Y);\r\n      context.fillStyle = fg;\r\n      context.fillText(\r\n        round(value) + \" \" + name + \" (\" + round(min) + \"-\" + round(max) + \")\",\r\n        TEXT_X,\r\n        TEXT_Y\r\n      );\r\n\r\n      context.drawImage(\r\n        canvas,\r\n        GRAPH_X + PR,\r\n        GRAPH_Y,\r\n        GRAPH_WIDTH - PR,\r\n        GRAPH_HEIGHT,\r\n        GRAPH_X,\r\n        GRAPH_Y,\r\n        GRAPH_WIDTH - PR,\r\n        GRAPH_HEIGHT\r\n      );\r\n\r\n      context.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT);\r\n\r\n      context.fillStyle = bg;\r\n      context.globalAlpha = 0.9;\r\n      context.fillRect(\r\n        GRAPH_X + GRAPH_WIDTH - PR,\r\n        GRAPH_Y,\r\n        PR,\r\n        round((1 - value / maxValue) * GRAPH_HEIGHT)\r\n      );\r\n    },\r\n  };\r\n};\r\n\r\nexport default Stats;\r\n"]}